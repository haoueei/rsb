<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.17/dist/favicon.ico" />
    <!-- Preload is necessary because we show these images when we disconnect from the server,
    but at that point we cannot load these images from the server -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.17/dist/assets/gradient-yHQUC_QB.png" as="image" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.17/dist/assets/noise-60BoTA8O.png" as="image" />
    <!-- Preload the fonts -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.17/dist/assets/Lora-VariableFont_wght-B2ootaw-.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.17/dist/assets/PTSans-Regular-CxL0S8W7.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.17/dist/assets/PTSans-Bold-D9fedIX3.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.17/dist/assets/FiraMono-Regular-BTCkDNvf.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.17/dist/assets/FiraMono-Medium-DU3aDxX5.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.17/dist/assets/FiraMono-Bold-CLVRCuM9.ttf" as="font" crossorigin="anonymous" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="a marimo app" />
    <link rel="apple-touch-icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.17/dist/apple-touch-icon.png" />
    <link rel="manifest" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.17/dist/manifest.json" />

    <script data-marimo="true">
      function __resizeIframe(obj) {
        var scrollbarHeight = 20; // Max between windows, mac, and linux

        function setHeight() {
          var element = obj.contentWindow.document.documentElement;
          // If there is no vertical scrollbar, we don't need to resize the iframe
          if (element.scrollHeight === element.clientHeight) {
            return;
          }

          // Create a new height that includes the scrollbar height if it's visible
          var hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;
          var newHeight = element.scrollHeight + (hasHorizontalScrollbar ? scrollbarHeight : 0);

          // Only update the height if it's different from the current height
          if (obj.style.height !== `${newHeight}px`) {
            obj.style.height = `${newHeight}px`;
          }
        }

        // Resize the iframe to the height of the content and bottom scrollbar height
        setHeight();

        // Resize the iframe when the content changes
        const resizeObserver = new ResizeObserver((entries) => {
          setHeight();
        });
        resizeObserver.observe(obj.contentWindow.document.body);
      }
    </script>
    <marimo-filename hidden>table_iv.py</marimo-filename>
    <!-- TODO(Trevor): Legacy, required by VS Code plugin. Remove when plugin is updated (see marimo/server/_templates/template.py) -->
    <marimo-version data-version="{{ version }}" hidden></marimo-version>
    <marimo-user-config data-config="{{ user_config }}" hidden></marimo-user-config>
    <marimo-server-token data-token="{{ server_token }}" hidden></marimo-server-token>
    <!-- /TODO -->
    <title>table iv</title>
    <script type="module" crossorigin crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.17/dist/assets/index-CPVCa2dz.js"></script>
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.17/dist/assets/index-BlxPam9h.css">
  
<script data-marimo="true">
    window.__MARIMO_STATIC__ = {};
    window.__MARIMO_STATIC__.files = {};
</script>
</head>
  <body>
    <div id="root"></div>
    <!-- This is a portal for the data editor to render in -->
    <div id="portal" data-testid="glide-portal" style="position: fixed; left: 0; top: 0; z-index: 9999"></div>
    <script data-marimo="true">
      window.__MARIMO_MOUNT_CONFIG__ = {
            "filename": "table_iv.py",
            "mode": "read",
            "version": "0.14.17",
            "serverToken": "static",
            "config": {"completion": {"activate_on_typing": true, "copilot": false}, "display": {"cell_output": "below", "code_editor_font_size": 14, "dataframes": "rich", "default_table_max_columns": 50, "default_table_page_size": 10, "default_width": "medium", "reference_highlighting": true, "theme": "light"}, "formatting": {"line_length": 79}, "keymap": {"overrides": {}, "preset": "default"}, "language_servers": {"pylsp": {"enable_flake8": false, "enable_mypy": true, "enable_pydocstyle": false, "enable_pyflakes": false, "enable_pylint": false, "enable_ruff": true, "enabled": true}}, "package_management": {"manager": "pip"}, "runtime": {"auto_instantiate": true, "auto_reload": "off", "default_sql_output": "auto", "on_cell_change": "autorun", "output_max_bytes": 8000000, "reactive_tests": true, "std_stream_max_bytes": 1000000, "watcher_on_save": "lazy"}, "save": {"autosave": "after_delay", "autosave_delay": 1000, "format_on_save": false}, "server": {"browser": "default", "follow_symlink": false}, "snippets": {"custom_paths": [], "include_default_snippets": true}},
            "configOverrides": {},
            "appConfig": {"sql_output": "auto", "width": "compact"},
            "view": {"showAppCode": true},
            "notebook": {"cells": [{"code": "import marimo as mo\nimport numpy as np\n\nimport gc\n\nfrom robosandbox.performance.workspace import WorkSpace\nfrom robosandbox.optimization.problem import DesignProblem\nfrom robosandbox.models.DH.Generic.Generic import Generic\nfrom pymoo.algorithms.soo.nonconvex.de import DE\nfrom pymoo.optimize import minimize\nfrom pymoo.termination import get_termination\nfrom ansitable import ANSITable, Column\nfrom optimization_p2 import compute_\u03b4\n\nnp.random.seed(42)", "code_hash": "231e78b86037d9d9a92d4fe5ce468956", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Hbol", "name": "_"}, {"code": "def analysis_ur5():\n    from robosandbox.models.DH.UR5 import UR5\n\n    ur5 = UR5()\n    ws_ur5 = WorkSpace(robot=ur5)\n\n    Gn_ur5 = ws_ur5.global_indice(\n        initial_samples=3000,\n        batch_ratio=0.1,\n        error_tolerance_percentage=1e-4,\n        method=\"yoshikawa\",\n        axes=\"all\",\n        max_samples=50000,\n        is_normalized=True,\n    )\n    \u03b4, \u03b4_x, \u03b4_y, \u03b4_z = compute_\u03b4(\n        R_target={\"x\": 1.2, \"y\": 1.2, \"z\": 1.2}, workspace=ws_ur5\n    )\n    return (Gn_ur5, \u03b4, \u03b4_x, \u03b4_y, \u03b4_z, ur5, ws_ur5)", "code_hash": "08da391d69c5445462da9aeec3a25504", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "MJUe", "name": "_"}, {"code": "def analysis_p1():\n    best_x_for_p1 = np.load(\"./data/use_case_b/best_x_for_p1.npy\")\n    d0, a1, a2, d3, d4, d5 = best_x_for_p1\n\n    d = [d0, 0, 0, d3, d4, d5]  # d1, d2 are 0\n    a = [0, a1, a2, 0, 0, 0]  # a0, a3, a4, a5 are 0\n    alpha = [np.pi / 2, 0, 0, np.pi / 2, -np.pi / 2, 0]  # same as UR5\n    p1 = Generic(dofs=6, a=a, alpha=alpha, d=d)\n    ws = WorkSpace(robot=p1)\n\n    Gn_p1 = ws.global_indice(\n        initial_samples=3000,\n        batch_ratio=0.1,\n        error_tolerance_percentage=1e-4,\n        method=\"yoshikawa\",\n        axes=\"all\",\n        max_samples=50000,\n        is_normalized=True,\n    )\n    \u03b4, \u03b4_x, \u03b4_y, \u03b4_z = compute_\u03b4(\n        R_target={\"x\": 1.2, \"y\": 1.2, \"z\": 1.2}, workspace=ws\n    )\n    return (Gn_p1, \u03b4, \u03b4_x, \u03b4_y, \u03b4_z, p1, ws)", "code_hash": "6785caef8f1d05ad8445c78c6597423b", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "vblA", "name": "_"}, {"code": "def analysis_p2():\n    best_x_for_p2 = np.load(\"./data/use_case_b/best_x_for_p2.npy\")\n    d0, a1, a2, d3, d4, d5 = best_x_for_p2\n\n    d = [d0, 0, 0, d3, d4, d5]  # d1, d2 are 0\n    a = [0, a1, a2, 0, 0, 0]  # a0, a3, a4, a5 are 0\n    alpha = [np.pi / 2, 0, 0, np.pi / 2, -np.pi / 2, 0]  # same as UR5\n    p2 = Generic(dofs=6, a=a, alpha=alpha, d=d)\n    ws = WorkSpace(robot=p2)\n\n    Gn_p2 = ws.global_indice(\n        initial_samples=3000,\n        batch_ratio=0.1,\n        error_tolerance_percentage=1e-4,\n        method=\"yoshikawa\",\n        axes=\"all\",\n        max_samples=50000,\n        is_normalized=True,\n    )\n    \u03b4, \u03b4_x, \u03b4_y, \u03b4_z = compute_\u03b4(\n        R_target={\"x\": 1.2, \"y\": 1.2, \"z\": 1.2}, workspace=ws\n    )\n    return (Gn_p2, \u03b4, \u03b4_x, \u03b4_y, \u03b4_z, p2, ws)", "code_hash": "b11926d9199639a6460becaafb5d2e8e", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "bkHC", "name": "_"}, {"code": "np.random.seed(42)\nGn_p1, \u03b4_p1, \u03b4_x_p1, \u03b4_y_p1, \u03b4_z_p1, p1, ws_p1 = analysis_p1()", "code_hash": "f23336fec0cce55e9ebbcc237e50fe15", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "lEQa", "name": "_"}, {"code": "np.random.seed(42)\nGn_p2, \u03b4_p2, \u03b4_x_p2, \u03b4_y_p2, \u03b4_z_p2, p2, ws_p2 = analysis_p2()", "code_hash": "6890f4d42a9149d520d19076b81bd842", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "PKri", "name": "_"}, {"code": "np.random.seed(42)\nGn_ur5, \u03b4_ur5, \u03b4_x_ur5, \u03b4_y_ur5, \u03b4_z_ur5, ur5, ws_ur5 = analysis_ur5()", "code_hash": "3d69697841a62ee048718c691ed0a3be", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Xref", "name": "_"}, {"code": "table = ANSITable(\n    Column(\"Robot\"),\n    Column(\"Gn\"),\n    Column(\"\u03b4\"),\n    Column(\"\u03b4_x\"),\n    Column(\"\u03b4_y\"),\n    Column(\"\u03b4_z\"),\n    border=\"thin\",\n)\ntable.row(\n    \"UR5\",\n    f\"{Gn_ur5:.2f}\",\n    f\"{\u03b4_ur5:.2f}\",\n    f\"{\u03b4_x_ur5:.2f}\",\n    f\"{\u03b4_y_ur5:.2f}\",\n    f\"{\u03b4_z_ur5:.2f}\",\n)\ntable.row(\n    \"p1\",\n    f\"{Gn_p1:.2f}\",\n    f\"{\u03b4_p1:.2f}\",\n    f\"{\u03b4_x_p1:.2f}\",\n    f\"{\u03b4_y_p1:.2f}\",\n    f\"{\u03b4_z_p1:.2f}\",\n)\ntable.row(\n    \"p2\",\n    f\"{Gn_p2:.2f}\",\n    f\"{\u03b4_p2:.2f}\",\n    f\"{\u03b4_x_p2:.2f}\",\n    f\"{\u03b4_y_p2:.2f}\",\n    f\"{\u03b4_z_p2:.2f}\",\n)\n\ntable.print()", "code_hash": "d47a6269891b52254914bcfd2eba917e", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "SFPL", "name": "_"}], "metadata": {"marimo_version": "0.14.17"}, "version": "1"},
            "session": {"cells": [{"code_hash": "231e78b86037d9d9a92d4fe5ce468956", "console": [], "id": "Hbol", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "08da391d69c5445462da9aeec3a25504", "console": [], "id": "MJUe", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "6785caef8f1d05ad8445c78c6597423b", "console": [], "id": "vblA", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "b11926d9199639a6460becaafb5d2e8e", "console": [], "id": "bkHC", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "f23336fec0cce55e9ebbcc237e50fe15", "console": [], "id": "lEQa", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "6890f4d42a9149d520d19076b81bd842", "console": [], "id": "PKri", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "3d69697841a62ee048718c691ed0a3be", "console": [], "id": "Xref", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "d47a6269891b52254914bcfd2eba917e", "console": [{"name": "stdout", "text": "\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Robot \u2502   Gn \u2502    \u03b4 \u2502  \u03b4_x \u2502  \u03b4_y \u2502  \u03b4_z \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502   UR5 \u2502 0.20 \u2502 2.00 \u2502 0.67 \u2502 0.66 \u2502 0.67 \u2502\n\u2502    p1 \u2502 0.21 \u2502 0.02 \u2502 0.00 \u2502 0.00 \u2502 0.02 \u2502\n\u2502    p2 \u2502 0.22 \u2502 0.04 \u2502 0.02 \u2502 0.00 \u2502 0.01 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n", "type": "stream"}], "id": "SFPL", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}], "metadata": {"marimo_version": "0.14.17"}, "version": "1"},
            "runtimeConfig": null,
        };
    </script>
  
<marimo-code hidden="">
    import%20marimo%0A%0A__generated_with%20%3D%20%220.14.17%22%0Aapp%20%3D%20marimo.App()%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20marimo%20as%20mo%0A%20%20%20%20import%20numpy%20as%20np%0A%0A%20%20%20%20import%20gc%0A%0A%20%20%20%20from%20robosandbox.performance.workspace%20import%20WorkSpace%0A%20%20%20%20from%20robosandbox.optimization.problem%20import%20DesignProblem%0A%20%20%20%20from%20robosandbox.models.DH.Generic.Generic%20import%20Generic%0A%20%20%20%20from%20pymoo.algorithms.soo.nonconvex.de%20import%20DE%0A%20%20%20%20from%20pymoo.optimize%20import%20minimize%0A%20%20%20%20from%20pymoo.termination%20import%20get_termination%0A%20%20%20%20from%20ansitable%20import%20ANSITable%2C%20Column%0A%20%20%20%20from%20optimization_p2%20import%20compute_%CE%B4%0A%0A%20%20%20%20np.random.seed(42)%0A%20%20%20%20return%20ANSITable%2C%20Column%2C%20Generic%2C%20WorkSpace%2C%20compute_%CE%B4%2C%20np%0A%0A%0A%40app.cell%0Adef%20_(WorkSpace%2C%20compute_%CE%B4)%3A%0A%20%20%20%20def%20analysis_ur5()%3A%0A%20%20%20%20%20%20%20%20from%20robosandbox.models.DH.UR5%20import%20UR5%0A%0A%20%20%20%20%20%20%20%20ur5%20%3D%20UR5()%0A%20%20%20%20%20%20%20%20ws_ur5%20%3D%20WorkSpace(robot%3Dur5)%0A%0A%20%20%20%20%20%20%20%20Gn_ur5%20%3D%20ws_ur5.global_indice(%0A%20%20%20%20%20%20%20%20%20%20%20%20initial_samples%3D3000%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20batch_ratio%3D0.1%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error_tolerance_percentage%3D1e-4%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20method%3D%22yoshikawa%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20axes%3D%22all%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20max_samples%3D50000%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20is_normalized%3DTrue%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%CE%B4%2C%20%CE%B4_x%2C%20%CE%B4_y%2C%20%CE%B4_z%20%3D%20compute_%CE%B4(%0A%20%20%20%20%20%20%20%20%20%20%20%20R_target%3D%7B%22x%22%3A%201.2%2C%20%22y%22%3A%201.2%2C%20%22z%22%3A%201.2%7D%2C%20workspace%3Dws_ur5%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20return%20(Gn_ur5%2C%20%CE%B4%2C%20%CE%B4_x%2C%20%CE%B4_y%2C%20%CE%B4_z%2C%20ur5%2C%20ws_ur5)%0A%20%20%20%20return%20(analysis_ur5%2C)%0A%0A%0A%40app.cell%0Adef%20_(Generic%2C%20WorkSpace%2C%20compute_%CE%B4%2C%20np)%3A%0A%20%20%20%20def%20analysis_p1()%3A%0A%20%20%20%20%20%20%20%20best_x_for_p1%20%3D%20np.load(%22.%2Fdata%2Fuse_case_b%2Fbest_x_for_p1.npy%22)%0A%20%20%20%20%20%20%20%20d0%2C%20a1%2C%20a2%2C%20d3%2C%20d4%2C%20d5%20%3D%20best_x_for_p1%0A%0A%20%20%20%20%20%20%20%20d%20%3D%20%5Bd0%2C%200%2C%200%2C%20d3%2C%20d4%2C%20d5%5D%20%20%23%20d1%2C%20d2%20are%200%0A%20%20%20%20%20%20%20%20a%20%3D%20%5B0%2C%20a1%2C%20a2%2C%200%2C%200%2C%200%5D%20%20%23%20a0%2C%20a3%2C%20a4%2C%20a5%20are%200%0A%20%20%20%20%20%20%20%20alpha%20%3D%20%5Bnp.pi%20%2F%202%2C%200%2C%200%2C%20np.pi%20%2F%202%2C%20-np.pi%20%2F%202%2C%200%5D%20%20%23%20same%20as%20UR5%0A%20%20%20%20%20%20%20%20p1%20%3D%20Generic(dofs%3D6%2C%20a%3Da%2C%20alpha%3Dalpha%2C%20d%3Dd)%0A%20%20%20%20%20%20%20%20ws%20%3D%20WorkSpace(robot%3Dp1)%0A%0A%20%20%20%20%20%20%20%20Gn_p1%20%3D%20ws.global_indice(%0A%20%20%20%20%20%20%20%20%20%20%20%20initial_samples%3D3000%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20batch_ratio%3D0.1%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error_tolerance_percentage%3D1e-4%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20method%3D%22yoshikawa%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20axes%3D%22all%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20max_samples%3D50000%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20is_normalized%3DTrue%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%CE%B4%2C%20%CE%B4_x%2C%20%CE%B4_y%2C%20%CE%B4_z%20%3D%20compute_%CE%B4(%0A%20%20%20%20%20%20%20%20%20%20%20%20R_target%3D%7B%22x%22%3A%201.2%2C%20%22y%22%3A%201.2%2C%20%22z%22%3A%201.2%7D%2C%20workspace%3Dws%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20return%20(Gn_p1%2C%20%CE%B4%2C%20%CE%B4_x%2C%20%CE%B4_y%2C%20%CE%B4_z%2C%20p1%2C%20ws)%0A%20%20%20%20return%20(analysis_p1%2C)%0A%0A%0A%40app.cell%0Adef%20_(Generic%2C%20WorkSpace%2C%20compute_%CE%B4%2C%20np)%3A%0A%20%20%20%20def%20analysis_p2()%3A%0A%20%20%20%20%20%20%20%20best_x_for_p2%20%3D%20np.load(%22.%2Fdata%2Fuse_case_b%2Fbest_x_for_p2.npy%22)%0A%20%20%20%20%20%20%20%20d0%2C%20a1%2C%20a2%2C%20d3%2C%20d4%2C%20d5%20%3D%20best_x_for_p2%0A%0A%20%20%20%20%20%20%20%20d%20%3D%20%5Bd0%2C%200%2C%200%2C%20d3%2C%20d4%2C%20d5%5D%20%20%23%20d1%2C%20d2%20are%200%0A%20%20%20%20%20%20%20%20a%20%3D%20%5B0%2C%20a1%2C%20a2%2C%200%2C%200%2C%200%5D%20%20%23%20a0%2C%20a3%2C%20a4%2C%20a5%20are%200%0A%20%20%20%20%20%20%20%20alpha%20%3D%20%5Bnp.pi%20%2F%202%2C%200%2C%200%2C%20np.pi%20%2F%202%2C%20-np.pi%20%2F%202%2C%200%5D%20%20%23%20same%20as%20UR5%0A%20%20%20%20%20%20%20%20p2%20%3D%20Generic(dofs%3D6%2C%20a%3Da%2C%20alpha%3Dalpha%2C%20d%3Dd)%0A%20%20%20%20%20%20%20%20ws%20%3D%20WorkSpace(robot%3Dp2)%0A%0A%20%20%20%20%20%20%20%20Gn_p2%20%3D%20ws.global_indice(%0A%20%20%20%20%20%20%20%20%20%20%20%20initial_samples%3D3000%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20batch_ratio%3D0.1%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error_tolerance_percentage%3D1e-4%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20method%3D%22yoshikawa%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20axes%3D%22all%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20max_samples%3D50000%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20is_normalized%3DTrue%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%CE%B4%2C%20%CE%B4_x%2C%20%CE%B4_y%2C%20%CE%B4_z%20%3D%20compute_%CE%B4(%0A%20%20%20%20%20%20%20%20%20%20%20%20R_target%3D%7B%22x%22%3A%201.2%2C%20%22y%22%3A%201.2%2C%20%22z%22%3A%201.2%7D%2C%20workspace%3Dws%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20return%20(Gn_p2%2C%20%CE%B4%2C%20%CE%B4_x%2C%20%CE%B4_y%2C%20%CE%B4_z%2C%20p2%2C%20ws)%0A%20%20%20%20return%20(analysis_p2%2C)%0A%0A%0A%40app.cell%0Adef%20_(analysis_p1%2C%20np)%3A%0A%20%20%20%20np.random.seed(42)%0A%20%20%20%20Gn_p1%2C%20%CE%B4_p1%2C%20%CE%B4_x_p1%2C%20%CE%B4_y_p1%2C%20%CE%B4_z_p1%2C%20p1%2C%20ws_p1%20%3D%20analysis_p1()%0A%20%20%20%20return%20Gn_p1%2C%20%CE%B4_p1%2C%20%CE%B4_x_p1%2C%20%CE%B4_y_p1%2C%20%CE%B4_z_p1%0A%0A%0A%40app.cell%0Adef%20_(analysis_p2%2C%20np)%3A%0A%20%20%20%20np.random.seed(42)%0A%20%20%20%20Gn_p2%2C%20%CE%B4_p2%2C%20%CE%B4_x_p2%2C%20%CE%B4_y_p2%2C%20%CE%B4_z_p2%2C%20p2%2C%20ws_p2%20%3D%20analysis_p2()%0A%20%20%20%20return%20Gn_p2%2C%20%CE%B4_p2%2C%20%CE%B4_x_p2%2C%20%CE%B4_y_p2%2C%20%CE%B4_z_p2%0A%0A%0A%40app.cell%0Adef%20_(analysis_ur5%2C%20np)%3A%0A%20%20%20%20np.random.seed(42)%0A%20%20%20%20Gn_ur5%2C%20%CE%B4_ur5%2C%20%CE%B4_x_ur5%2C%20%CE%B4_y_ur5%2C%20%CE%B4_z_ur5%2C%20ur5%2C%20ws_ur5%20%3D%20analysis_ur5()%0A%20%20%20%20return%20Gn_ur5%2C%20%CE%B4_ur5%2C%20%CE%B4_x_ur5%2C%20%CE%B4_y_ur5%2C%20%CE%B4_z_ur5%0A%0A%0A%40app.cell%0Adef%20_(%0A%20%20%20%20ANSITable%2C%0A%20%20%20%20Column%2C%0A%20%20%20%20Gn_p1%2C%0A%20%20%20%20Gn_p2%2C%0A%20%20%20%20Gn_ur5%2C%0A%20%20%20%20%CE%B4_p1%2C%0A%20%20%20%20%CE%B4_p2%2C%0A%20%20%20%20%CE%B4_ur5%2C%0A%20%20%20%20%CE%B4_x_p1%2C%0A%20%20%20%20%CE%B4_x_p2%2C%0A%20%20%20%20%CE%B4_x_ur5%2C%0A%20%20%20%20%CE%B4_y_p1%2C%0A%20%20%20%20%CE%B4_y_p2%2C%0A%20%20%20%20%CE%B4_y_ur5%2C%0A%20%20%20%20%CE%B4_z_p1%2C%0A%20%20%20%20%CE%B4_z_p2%2C%0A%20%20%20%20%CE%B4_z_ur5%2C%0A)%3A%0A%20%20%20%20table%20%3D%20ANSITable(%0A%20%20%20%20%20%20%20%20Column(%22Robot%22)%2C%0A%20%20%20%20%20%20%20%20Column(%22Gn%22)%2C%0A%20%20%20%20%20%20%20%20Column(%22%CE%B4%22)%2C%0A%20%20%20%20%20%20%20%20Column(%22%CE%B4_x%22)%2C%0A%20%20%20%20%20%20%20%20Column(%22%CE%B4_y%22)%2C%0A%20%20%20%20%20%20%20%20Column(%22%CE%B4_z%22)%2C%0A%20%20%20%20%20%20%20%20border%3D%22thin%22%2C%0A%20%20%20%20)%0A%20%20%20%20table.row(%0A%20%20%20%20%20%20%20%20%22UR5%22%2C%0A%20%20%20%20%20%20%20%20f%22%7BGn_ur5%3A.2f%7D%22%2C%0A%20%20%20%20%20%20%20%20f%22%7B%CE%B4_ur5%3A.2f%7D%22%2C%0A%20%20%20%20%20%20%20%20f%22%7B%CE%B4_x_ur5%3A.2f%7D%22%2C%0A%20%20%20%20%20%20%20%20f%22%7B%CE%B4_y_ur5%3A.2f%7D%22%2C%0A%20%20%20%20%20%20%20%20f%22%7B%CE%B4_z_ur5%3A.2f%7D%22%2C%0A%20%20%20%20)%0A%20%20%20%20table.row(%0A%20%20%20%20%20%20%20%20%22p1%22%2C%0A%20%20%20%20%20%20%20%20f%22%7BGn_p1%3A.2f%7D%22%2C%0A%20%20%20%20%20%20%20%20f%22%7B%CE%B4_p1%3A.2f%7D%22%2C%0A%20%20%20%20%20%20%20%20f%22%7B%CE%B4_x_p1%3A.2f%7D%22%2C%0A%20%20%20%20%20%20%20%20f%22%7B%CE%B4_y_p1%3A.2f%7D%22%2C%0A%20%20%20%20%20%20%20%20f%22%7B%CE%B4_z_p1%3A.2f%7D%22%2C%0A%20%20%20%20)%0A%20%20%20%20table.row(%0A%20%20%20%20%20%20%20%20%22p2%22%2C%0A%20%20%20%20%20%20%20%20f%22%7BGn_p2%3A.2f%7D%22%2C%0A%20%20%20%20%20%20%20%20f%22%7B%CE%B4_p2%3A.2f%7D%22%2C%0A%20%20%20%20%20%20%20%20f%22%7B%CE%B4_x_p2%3A.2f%7D%22%2C%0A%20%20%20%20%20%20%20%20f%22%7B%CE%B4_y_p2%3A.2f%7D%22%2C%0A%20%20%20%20%20%20%20%20f%22%7B%CE%B4_z_p2%3A.2f%7D%22%2C%0A%20%20%20%20)%0A%0A%20%20%20%20table.print()%0A%20%20%20%20return%0A%0A%0Aif%20__name__%20%3D%3D%20%22__main__%22%3A%0A%20%20%20%20app.run()%0A
</marimo-code>

<marimo-code-hash hidden="">ef2fd2ef8e56df9769bd74755aefaec46ad1725c5e0fada42a77d1d1a3cb79ad</marimo-code-hash>
</body>
</html>
